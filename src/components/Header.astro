---
import { Image } from "astro:assets";
import ButtonMenu from "./ButtonMenu.astro";
---

<header class="w-full fixed z-[60] bg-[#090807]">
  <div
    class="top-0 z-[9] p-[40px] pb-[20px] flex flex-row justify-between max-w-[1280px] mx-auto"
  >
    <Image
      src={import("../assets/logo.png")}
      alt="logo"
      width={141}
      height={41}
      class="img-header"
    />
    <ButtonMenu extraClass="btn-menu"/>
    <nav id="nav-menu" class="w-auto">
      <ul class="flex h-full gap-16 justify-center items-center">
        <li class="hover:text-[#70979A] hover:scale-125 transition-all">
          <a href="#start"> inicio </a>
        </li>
        <li class="hover:text-[#70979A] hover:scale-125 transition-all">
          <a href="#project"> proyectos </a>
        </li>
        <li class="hover:text-[#70979A] hover:scale-125 transition-all">
          <a href="#knowledge"> conocimientos </a>
        </li>
        <li class="hover:text-[#70979A] hover:scale-125 transition-all">
          <a href="#service"> servicios </a>
        </li>
        <li class="hover:text-[#70979A] hover:scale-125 transition-all">
          <a href="#contact"> Contactame </a>
        </li>
      </ul>
    </nav>
  </div>
</header>
<script>
  const links = document.querySelectorAll("nav a");
  links.forEach(function (link: any) {
    link.addEventListener("click", function (event: any) {
      event.preventDefault();
      const nav = document.getElementById("nav-menu") as any;
      const checkbox = document.getElementById("checkbox") as any;
      if (nav.classList.contains("open")) {
        nav.classList.remove("open");
        nav.classList.add("close");
        checkbox.checked = false;
        setTimeout(() => {
          nav.classList.remove("close");
        }, 1500);
      }
      const section = document.querySelector(`${link.getAttribute("href")}`);
      section?.scrollIntoView({ behavior: "smooth" });
    });
  });
</script>
<style>
  nav {
    font-family: "Noto Sans TC Variable", sans-serif;
    font-size: 16px;
    font-weight: 700;
    color: #f3f0ed;
  }
  @media (max-width: 968px) {
    nav{
      display: none;
    }
    .img-header{
      width: 150px;
    }
    header > div{
      padding-top: 20px;
      padding-bottom: 15px;
    }
    nav.open,
    nav.close{
      display: block;
      position: absolute;
      right: 0;
      top: 0;
      padding-top: 85px;
    }
    nav.open > ul,
    nav.close > ul{
      display: flex;
      flex-direction: column;
      align-items: end;
      justify-content: start;
      overflow: hidden;
      padding-right: 35px;
      height: 100vh;
      width: 100vw;
      background-color: #00000075;
    }
    nav ul{
      transform: translateY(-110%);
      text-align: right;
    }
    nav.close ul {
      animation: animation-reverse 1s ease-in-out forwards;
    }
    nav.open ul {
      animation: animation 1s ease-in-out forwards;
    }
    @keyframes animation {
      0% {
        transform: translateY(-110%);
      }
      100% {
        transform: translateY(0);
      }
    }
    @keyframes animation-reverse {
      0% {
        transform: translateY(0);
      }
      100% {
        transform: translateY(-110%);
      }
      
    }
  }
  @media (max-width: 642px) {
    .img-header{
      width: 120px;
    }
  }
</style>
